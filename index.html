<!DOCTYPE html>
<html>
<head>
   <link rel="stylesheet" href="styles.css">
</head>
<body>
   <div id="div_main" class="container">
      <div id="div_view">
         <table width="100%" height="100%">
            <tr>
               <td width="50%">
                  <canvas id="canvas_in"></canvas>
                  <output id="hint" hidden style=" position: absolute; left: 50px; top: 50px; background-color: yellow; color: red; padding: 5px"/>
               </td>
               <td width="50%"><canvas id="canvas_out"/></td>
            </tr>
         </table>
      </div>
      <div>
         <div id="div_ref_points">
            <label for="example-select">Select an example:</label>
               <select name="examples" id="example-select" onchange="loadExample(event)">
                 <option>---</option>
                 <option value="examples/ot1.png">example 1</option>
                 <option value="examples/ot2.png">example 2</option>
                 <option value="examples/ot3.png">example 3</option>
                 <option value="examples/ot4.png">example 4</option>
                 <option value="examples/ot5.png">example 5</option>
                 <option value="examples/ot6.png">example 6</option>
                 <option value="examples/ot7.png">example 7</option>
                 <option value="examples/ot8.png">example 8</option>
                 <option value="examples/ot9.png">example 9</option>
                 <option value="examples/ot10.png">example 10</option>
                 <option value="examples/ot11.png">example 11</option>
                 <option value="examples/ot12.png">example 12</option>
               </select>
            <hr/>
            <label >Load local image:</label>
            <input type="file" accept="image/*" onchange="loadFile(event)">
            <table width="100%">
               <tr><td> <input type="button" id="FHC" value="femoral head center" class="cmdOff" onclick="(() => {view.setZoom(canvas.width /img.width);view.setCenter( { x: img.width/2, y: img.height/10 },{ x: view.canvas.width/2, y: view.canvas.height/3 });redraw();})()"> </td></tr>
               <tr><td> <input type="button" id="FHR" value="femoral head rim" class="cmdOff" onclick="(() => {var p=view.viewXY(points.FHC); view.setCenter(points.FHC, { x: p.x/2, y: p.y/2 } );view.setZoom(view.zoom * 2);redraw();})()"> </td></tr>
               <tr><td> <input type="button" id="LFC" value="lateral femoral condyle" class="cmdOff" onclick="(() => {view.setZoom(view.zoom *0.5);view.setCenter( { x: points.FHC.x, y: img.height / 2 }, { x: view.canvas.width/2, y: view.canvas.height/2 });redraw();})()"> </td></tr>
               <tr><td> <input type="button" id="MFC" value="medial femoral condyle" class="cmdOff"> </td></tr>
               <tr><td> <input type="button" id="LTC" value="lateral tibial condyle" class="cmdOff"> </td></tr>
               <tr><td> <input type="button" id="MTC" value="medial tibial condyle" class="cmdOff"> </td></tr>
               <tr><td> <input type="button" id="DTC" value="distal tibial center" class="cmdOff" onclick="(() => {view.setZoom(view.zoom * 1.5);view.setCenter( { x: points.FHC.x, y: img.height } , { x: view.canvas.width/2, y: view.canvas.height });redraw();})()"> </td></tr>
            </table>
         </div>
         <div id="div_angles" hidden="true">
            <div>
               <table width="100%" class="myTable">
                  <tr><td>side: <output id="pre_side">N/A</output><output id="post_side" hidden="true"></output></td><td>OT results:</td></tr>
                  <tr><td>mTFA: <output id="pre_mTFA">N/A</output> <output id="pre_varus_valgus"></output></td><td>mTFA: <output id="post_mTFA">N/A</output> <output id="post_varus_valgus"></output></td></tr>
                  <tr><td>load point (%): <output id="pre_Mikulicz">N/A</output></td><td>load point (%): <output id="post_Mikulicz">N/A</output></td></tr>
                  <tr><td>mLDFA: <output id="pre_mLDFA">N/A</output></td><td>mLDFA: <output id="post_mLDFA">N/A</output></td></tr>
                  <tr><td>mMPTA: <output id="pre_mMPTA">N/A</output></td><td>mMPTA: <output id="post_mMPTA">N/A</output></td></tr>
                  <tr><td>JLCA: <output id="pre_JLCA">N/A</output></td><td>JLCA: <output id="post_JLCA">N/A</output></td></tr>
               </table>
            </div>
            <hr>
            <div id="limb_length">
               Limb length change: <output id="limb_length_change_value"></output> mm
               <hr>
            </div>
            <div>
               <input type="checkbox" id="hip_autorotate" onclick="redraw()" checked />autorotate hip
            </div>
            <hr>
            <div>
               <input type="submit" id="OWOT" value="new open wedge OT" class="cmdOn" onclick="addOWOT(event)"></input>
               <input type="submit" id="CWOT" value="new closed wedge OT" class="cmdOn" onclick="addCWOT(event)"></input>
               <input type="submit" id="SCALE" value="calibrate" class="cmdOff" onclick="setScale(event)"></input>
            </div>
         </div>
      </div>
   </div>

<script type="text/javascript" src="classes.js"></script>
<script type="text/javascript" src="main.js"></script>



</body>
</html>
